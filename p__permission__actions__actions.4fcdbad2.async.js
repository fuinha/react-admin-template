(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{"9UXR":function(e,t,a){},A5eh:function(e,t,a){"use strict";a.r(t);a("IzEo");var n=a("bx4M"),c=(a("+L6B"),a("2/Rp")),r=(a("5Dmo"),a("3S7+")),i=a("qIgq"),l=a.n(i),o=(a("2qtc"),a("kLXV")),s=(a("tU7J"),a("wFql")),u=a("q1tI"),m=a.n(u),f=a("MuoO"),d=a("CLD0"),p=a("Oc/f"),h=a("p0pE"),b=a.n(h),E=(a("5NDa"),a("5rEg")),C=(a("OaEy"),a("2fM7")),v=(a("y8nQ"),a("Vl3Y")),y=a("iVvo"),g=v["a"].Item,w=C["a"].Option,O=E["a"].TextArea,N=function(e){var t=e.visible,a=e.modules,n=e.onClose,c=e.onSubmit,r=e.formType,i=e.form,o=e.currentAction,s=i.getFieldDecorator,u=m.a.useState(""),f=l()(u,2),d=f[0],p=f[1];m.a.useEffect(function(){r&&p("create"===r?"\u521b\u5efa\u64cd\u4f5c":"\u66f4\u65b0\u64cd\u4f5c")},[e.formType]),m.a.useEffect(function(){t||i.resetFields()},[e.visible]);var h=function(){i.validateFields(function(e,t){var a=b()({},t);"update"===r&&(a.id=o.id),c&&c(a)})},N={labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:12},md:{span:15}}},k=m.a.useMemo(function(){return a.map(function(e){return m.a.createElement(w,{key:e.id,value:e.id},e.name)})},[e.modules]);return m.a.createElement(y["a"],{visible:t,onClose:n,onCancel:n,onConfirm:h,width:600,title:d},m.a.createElement(v["a"],null,m.a.createElement(g,Object.assign({},N,{label:"\u64cd\u4f5c\u540d\u79f0"}),s("name",{initialValue:o.name,rules:[{required:!0,message:"\u540d\u79f0\u4e0d\u80fd\u4e3a\u7a7a"}]})(m.a.createElement(E["a"],{placeholder:"\u8bf7\u8f93\u5165\u64cd\u4f5c\u540d\u79f0"}))),m.a.createElement(g,Object.assign({},N,{label:"\u663e\u793a\u540d\u79f0"}),s("displayName",{initialValue:o.displayName,rules:[{required:!0,message:"\u663e\u793a\u540d\u79f0\u4e0d\u80fd\u4e3a\u7a7a"}]})(m.a.createElement(E["a"],{placeholder:"\u8bf7\u8f93\u5165\u663e\u793a\u540d\u79f0"}))),m.a.createElement(g,Object.assign({},N,{label:"\u6240\u5c5e\u6a21\u5757"}),s("moduleId",{initialValue:(o.module||{}).id,rules:[{required:!0,message:"\u6240\u5c5e\u6a21\u5757\u4e0d\u80fd\u4e3a\u7a7a"}]})(m.a.createElement(C["a"],{showSearch:!0,placeholder:"\u8bf7\u9009\u62e9\u6240\u5c5e\u6a21\u5757",optionFilterProp:"children"},k))),m.a.createElement(g,Object.assign({},N,{label:"\u5907\u6ce8"}),s("remark",{initialValue:o.remark,rules:[]})(m.a.createElement(O,{rows:3})))))};N.defaultProps={modules:[]};var k=v["a"].create()(N),x=s["a"].Paragraph,j=o["a"].confirm,q=function(e){var t=e.dispatch,a=e.modules,i=e.actions,o=Object(u["useState"])(!1),s=l()(o,2),f=s[0],h=s[1],b=Object(u["useState"])("create"),E=l()(b,2),C=E[0],v=E[1],y=Object(u["useState"])({}),g=l()(y,2),w=g[0],O=g[1];m.a.useEffect(function(){t({type:"action/fetchModules"}),N()},[]);var N=function(){t({type:"action/fetchList"})},q=function(){O({}),h(!0),v("create")},I=function(e){O(e),h(!0),v("update")},S=function(){h(!1)},P=function(e){t("create"===C?{type:"action/fetchCreate",payload:e,callback:function(){h(!1),N()}}:{type:"action/fetchUpdate",payload:e,callback:function(){h(!1),N()}})},T=function(e){j({title:"\u786e\u5b9a\u5220\u9664".concat(e.name,"\u64cd\u4f5c?"),content:"\u5220\u9664\u4e0d\u53ef\u6062\u590d",okText:"\u786e\u8ba4",okType:"danger",cancelText:"\u53d6\u6d88",onOk:function(){F(e)}})},F=function(e){t({type:"action/fetchRemove",payload:{id:e.id}}).then(function(){t({type:"action/fetchList"})})},L=[{title:"\u6240\u5c5e\u6a21\u5757",dataIndex:"module",render:function(e){return e.name||"--"}},{title:"\u64cd\u4f5c\u540d\u79f0",dataIndex:"name"},{title:"\u663e\u793a\u540d\u79f0",dataIndex:"displayName"},{title:"\u64cd\u4f5c\u7c7b\u578b",dataIndex:"type",render:function(e){return 1===e?"\u7cfb\u7edf\u64cd\u4f5c":"\u5176\u4ed6\u64cd\u4f5c"}},{title:"\u5907\u6ce8",dataIndex:"remark"},{title:"\u64cd\u4f5c",key:"action",render:function(e,t){return 1===t.type?"--":m.a.createElement("div",{className:"table-action"},m.a.createElement(r["a"],{placement:"top",title:"\u66f4\u65b0"},m.a.createElement(c["a"],{size:"small",icon:"edit",onClick:function(){I(t)}})),m.a.createElement(r["a"],{placement:"top",title:"\u5220\u9664"},m.a.createElement(c["a"],{type:"danger",size:"small",icon:"delete",onClick:function(){T(t)}})))}}],Q=Object(u["useMemo"])(function(){return m.a.createElement(p["a"],{data:{list:i},columns:L})},[e.actions]);return m.a.createElement(m.a.Fragment,null,m.a.createElement(d["a"],{title:"\u64cd\u4f5c\u7ba1\u7406",extra:[m.a.createElement(c["a"],{key:"1",type:"primary",onClick:q},"\u65b0\u5efa\u64cd\u4f5c")]},m.a.createElement(x,null,"\u64cd\u4f5c\u662f\u6307\u5bf9\u5177\u4f53\u8d44\u6e90\u7684\u64cd\u4f5c\uff0c\u591a\u6570\u60c5\u51b5\u4e0b Action \u4e0e\u7cfb\u7edf\u7684 API \u4e00\u4e00\u5bf9\u5e94\uff0c\u4f46\u4e5f\u6709\u4f8b\u5916\u3002")),m.a.createElement(n["a"],{bordered:!1},Q),m.a.createElement(k,{visible:f,modules:a,formType:C,currentAction:w,onSubmit:P,onClose:S}))};t["default"]=Object(f["connect"])(function(e){var t=e.action;return{modules:t.modules,actions:t.list}})(q)},CLD0:function(e,t,a){"use strict";a("h7lp");var n=a("bf48"),c=a("eHn4"),r=a.n(c),i=a("Y/ft"),l=a.n(i),o=a("q1tI"),s=a.n(o),u=a("mOP9"),m=a("TSYQ"),f=a.n(m),d=a("QBzw"),p=a("Q+5c"),h=(a("uWfR"),function(e){var t=e.wrapperClassName,a=e.prefixCls,c=l()(e,["wrapperClassName","prefixCls"]),i=s.a.useContext(d["a"]),o=i.location,m=i.breadcrumbNameMap,h=function(e,t){var a=Object(p["a"])(e),n=[];return a.forEach(function(e){var a=t[e];n.push({path:a.path,breadcrumbName:a.name})}),n},b=function(e,t,a){var n=a.indexOf(e)===a.length-1;return n?s.a.createElement("span",null,e.breadcrumbName):s.a.createElement(u["a"],{to:e.path},e.breadcrumbName)},E=o.pathname,C=h(E,m);return s.a.createElement("div",{className:f()(t,r()({},"".concat(a),!0))},s.a.createElement(n["a"],Object.assign({breadcrumb:{itemRender:b,routes:C}},c)))});h.defaultProps={prefixCls:"lotus-page-header-wrapper"};var b=h;t["a"]=b},LNpq:function(e,t,a){},"Oc/f":function(e,t,a){"use strict";var n=a("eHn4"),c=a.n(n),r=(a("g9YV"),a("wCAj")),i=a("p0pE"),l=a.n(i),o=a("qIgq"),s=a.n(o),u=a("Y/ft"),m=a.n(u),f=a("q1tI"),d=a.n(f),p=a("TSYQ"),h=a.n(p),b=(a("LNpq"),function(e){var t=e.className,a=e.prefixCls,n=e.style,i=e.rowKey,o=e.data,u=e.onChange,p=m()(e,["className","prefixCls","style","rowKey","data","onChange"]),b=o.list,E=void 0===b?[]:b,C=o.pagination,v=Object(f["useState"])([]),y=s()(v,2),g=(y[0],y[1],function(e,t,a){u&&u(e,t,a)}),w=l()({showSizeChanger:!0,showQuickJumper:!0},C);return d.a.createElement(r["a"],Object.assign({className:h()(t,c()({},"".concat(a),!0)),style:n,rowKey:i,dataSource:E,pagination:w,onChange:g},p))});b.defaultProps={rowKey:"id"};var E=b;t["a"]=E},QBzw:function(e,t,a){"use strict";var n=a("q1tI");t["a"]=Object(n["createContext"])({})},iVvo:function(e,t,a){"use strict";a("+L6B");var n=a("2/Rp"),c=(a("Pwec"),a("CtXQ")),r=a("eHn4"),i=a.n(r),l=(a("bbsP"),a("/wGt")),o=a("qIgq"),s=a.n(o),u=a("Y/ft"),m=a.n(u),f=a("q1tI"),d=a.n(f),p=a("TSYQ"),h=a.n(p),b=(a("9UXR"),function(e){var t,a=e.className,r=e.prefixCls,o=e.title,u=e.children,p=e.width,b=e.height,E=e.placement,C=e.onClose,v=e.onCancel,y=e.onConfirm,g=e.showFooter,w=e.confirmButton,O=m()(e,["className","prefixCls","title","children","width","height","placement","onClose","onCancel","onConfirm","showFooter","confirmButton"]),N=Object(f["useState"])(!1),k=s()(N,2),x=k[0],j=k[1],q=Object(f["useState"])(300),I=s()(q,2),S=I[0],P=I[1],T=Object(f["useState"])(300),F=s()(T,2),L=F[0],Q=F[1];Object(f["useEffect"])(function(){P(p)},[e.width]),Object(f["useEffect"])(function(){Q(b)},[e.height]);var V=function(){j(!x),x?"right"===E||"left"===E?P(e.width):Q(e.height):"right"===E||"left"===E?P("100%"):Q("100%")},R=function(e){y&&y(e)},Y=function(e){v&&v(e)},_=function(e){C&&C(e)};return d.a.createElement(l["a"],Object.assign({className:h()(a,(t={},i()(t,"".concat(r),!0),i()(t,"is-full-screen",x),t))},O,{height:L,width:S,closable:!1}),d.a.createElement("div",{className:"".concat(r,"__header")},d.a.createElement("div",{className:"".concat(r,"__title")},o),d.a.createElement("div",{className:"buttons"},d.a.createElement("button",{onClick:V},!x&&d.a.createElement(c["a"],{type:"arrows-alt"}),x&&d.a.createElement(c["a"],{type:"shrink"})),d.a.createElement("button",{onClick:_},d.a.createElement(c["a"],{type:"close"})))),d.a.createElement("div",{className:"".concat(r,"__body")},u),g&&d.a.createElement("div",{className:"".concat(r,"__footer")},d.a.createElement(n["a"],Object.assign({type:"primary"},w,{onClick:R}),"\u786e\u5b9a"),d.a.createElement(n["a"],{onClick:Y},"\u53d6\u6d88")))});b.defaultProps={prefixCls:"lotus-drawer-wrapper",placement:"right",height:300,width:300,showFooter:!0};var E=b;t["a"]=E},uWfR:function(e,t,a){}}]);